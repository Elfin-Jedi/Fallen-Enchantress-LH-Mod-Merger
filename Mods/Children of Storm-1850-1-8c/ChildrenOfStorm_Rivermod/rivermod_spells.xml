<?xml version="1.0"?>
<Container>
  <SpellDef InternalName="Rivermod_InstantEvolution">
    <DisplayName>Instant Evolution</DisplayName>
    <Description>When struck in combat, has a 40% chance to gain positive effects</Description>
    <IconFG>deathtoken.png</IconFG>
    <IconColor>210,110,210</IconColor>
    <SpellType>Tactical</SpellType>
    <SpellClass>Defensive</SpellClass>
    <SpellSubClass>Buff</SpellSubClass>
    <SpellTargetType>Self</SpellTargetType>
    <HideInHiergamenon>1</HideInHiergamenon>
    <CanStack>0</CanStack>
    <IsCastable>0</IsCastable>
    <AppliesRandomModifier>1</AppliesRandomModifier>
    <GameModifier>
      <ModType>Unit</ModType>
      <Attribute>AdjustUnitStat</Attribute>
      <StrVal>donothingunitstat</StrVal>
      <Value>0</Value>
      <Duration>0</Duration>
    </GameModifier>
    <GameModifier>
      <ModType>Unit</ModType>
      <Attribute>AdjustUnitStat</Attribute>
      <StrVal>donothingunitstat</StrVal>
      <Value>0</Value>
      <Duration>0</Duration>
    </GameModifier>
    <GameModifier>
      <ModType>Unit</ModType>
      <Attribute>AdjustUnitStat</Attribute>
      <StrVal>donothingunitstat</StrVal>
      <Value>0</Value>
      <Duration>0</Duration>
    </GameModifier>
    <GameModifier>
      <ModType>Unit</ModType>
      <Attribute>AdjustUnitStat</Attribute>
      <StrVal>donothingunitstat</StrVal>
      <Value>0</Value>
      <Duration>0</Duration>
    </GameModifier>
    <GameModifier>
      <ModType>Unit</ModType>
      <Attribute>AdjustUnitStat</Attribute>
      <StrVal>donothingunitstat</StrVal>
      <Value>0</Value>
      <Duration>0</Duration>
    </GameModifier>
    <GameModifier>
      <ModType>Unit</ModType>
      <Attribute>AdjustUnitStat</Attribute>
      <StrVal>donothingunitstat</StrVal>
      <Value>0</Value>
      <Duration>0</Duration>
    </GameModifier>
    <GameModifier>
      <ModType>Unit</ModType>
      <Attribute>AdjustUnitStat</Attribute>
      <StrVal>donothingunitstat</StrVal>
      <Value>0</Value>
      <Duration>0</Duration>
    </GameModifier>
    <GameModifier>
      <ModType>Unit</ModType>
      <Attribute>AdjustUnitStat</Attribute>
      <StrVal>donothingunitstat</StrVal>
      <Value>0</Value>
      <Duration>0</Duration>
    </GameModifier>
    <GameModifier>
      <ModType>Unit</ModType>
      <Attribute>AdjustUnitStat</Attribute>
      <StrVal>donothingunitstat</StrVal>
      <Value>0</Value>
      <Duration>0</Duration>
    </GameModifier>
    <GameModifier>
      <ModType>Unit</ModType>
      <Attribute>AdjustUnitStat</Attribute>
      <StrVal>donothingunitstat</StrVal>
      <Value>0</Value>
      <Duration>0</Duration>
    </GameModifier>
    <GameModifier>
      <ModType>Unit</ModType>
      <Attribute>AdjustUnitStat</Attribute>
      <StrVal>donothingunitstat</StrVal>
      <Value>0</Value>
      <Duration>0</Duration>
    </GameModifier>
    <GameModifier>
      <ModType>Unit</ModType>
      <Attribute>AdjustUnitStat</Attribute>
      <StrVal>donothingunitstat</StrVal>
      <Value>0</Value>
      <Duration>0</Duration>
    </GameModifier>
    <GameModifier>
      <ModType>Unit</ModType>
      <Attribute>AdjustUnitStat</Attribute>
      <StrVal>donothingunitstat</StrVal>
      <Value>0</Value>
      <Duration>0</Duration>
    </GameModifier>
    <GameModifier>
      <ModType>Unit</ModType>
      <Attribute>AdjustUnitStat</Attribute>
      <StrVal>donothingunitstat</StrVal>
      <Value>0</Value>
      <Duration>0</Duration>
    </GameModifier>
    <GameModifier>
      <ModType>Unit</ModType>
      <Attribute>AdjustUnitStat</Attribute>
      <StrVal>donothingunitstat</StrVal>
      <Value>0</Value>
      <Duration>0</Duration>
    </GameModifier>
    <GameModifier>
      <ModType>Unit</ModType>
      <Attribute>AdjustUnitStat</Attribute>
      <StrVal>UnitStat_Dodge</StrVal>
      <DisplayName>+20 Dodge</DisplayName>
      <Value>20</Value>
      <Duration>1</Duration>
      <ApplyToCaster>1</ApplyToCaster>
    </GameModifier>
    <GameModifier>
      <ModType>Unit</ModType>
      <Attribute>AdjustUnitStat</Attribute>
      <StrVal>UnitStat_Dodge</StrVal>
      <Value>10</Value>
      <DisplayName>+10 Dodge</DisplayName>
      <Duration>2</Duration>
      <ApplyToCaster>1</ApplyToCaster>
    </GameModifier>
    <GameModifier>
      <ModType>Unit</ModType>
      <Attribute>AdjustUnitStat</Attribute>
      <StrVal>UnitStat_Accuracy</StrVal>
      <Value>20</Value>
      <DisplayName>+20 Accuracy</DisplayName>
      <Duration>1</Duration>
      <ApplyToCaster>1</ApplyToCaster>
    </GameModifier>
    <GameModifier>
      <ModType>Unit</ModType>
      <Attribute>AdjustUnitStat</Attribute>
      <StrVal>UnitStat_CombatSpeed</StrVal>
      <Value>3</Value>
      <DisplayName>+3 Initiative</DisplayName>
      <Duration>2</Duration>
      <ApplyToCaster>1</ApplyToCaster>
    </GameModifier>
    <GameModifier>
      <ModType>Unit</ModType>
      <Attribute>CurHealth</Attribute>
      <ApplyToCaster>1</ApplyToCaster>
      <Calculate InternalName="Calc" ValueOwner="CastingUnit">
        <Expression><![CDATA[[UnitOwner_GetNumDeathShards] * 4]]></Expression>
      </Calculate>
      <Calculate InternalName="Calc2" ValueOwner="CastingUnit">
        <Expression><![CDATA[[UnitOwner_GetNumLifeShards] * 4]]></Expression>
      </Calculate>
      <Calculate InternalName="Calc3" ValueOwner="CastingUnit">
        <Expression><![CDATA[[Calc] + [Calc2]]]></Expression>
      </Calculate>
      <Calculate InternalName="Value">
        <Expression><![CDATA[[Calc3] + 8]]></Expression>
      </Calculate>
    </GameModifier>
    <AIData AIPersonality="AI_General">
      <AIPriority>5</AIPriority>
    </AIData>
  </SpellDef>
  <SpellDef InternalName="Magmabonusspell">
    <SpellBookSortCategory>City</SpellBookSortCategory>
    <SpellBookSortSubCategory>CityEnchantment</SpellBookSortSubCategory>
    <Prereq>
      <Type>Tech</Type>
      <Attribute>Construction</Attribute>
    </Prereq>
    <DisplayName>Magma Forge</DisplayName>
    <Description>All units produced in this city gain these effects: Attacks ignore 15% of the victim's Defense, +25% Fire resistance. +2 Fire Attack.</Description>
    <Image>S_AuraofGrace_Painting.png</Image>
    <IconFG>S_AuraofGrace_Icon.png</IconFG>
    <IconBG>S_AuraofGrace_Icon_BG.png</IconBG>
    <IconColor>223,71,30</IconColor>
    <AutoUnlock>1</AutoUnlock>
    <CanStack>0</CanStack>
    <SpellType>Strategic</SpellType>
    <SpellClass>Other</SpellClass>
    <SpellSubClass>Buff</SpellSubClass>
    <SpellTargetType>FriendlyCity</SpellTargetType>
    <SpellResourceCost>
      <Resource>MagmaForge</Resource>
      <Amount>1</Amount>
    </SpellResourceCost>
    <SpellResourceCost>
      <Resource>MagmaForge</Resource>
      <PerTurn>1</PerTurn>
      <Amount>1</Amount>
    </SpellResourceCost>
    <GameModifier>
      <ModType>CityTrainingBonus</ModType>
      <Attribute>TrainingBonus_ApplyAbilityBonus</Attribute>
      <StrVal>Forged_in_Fire</StrVal>
      <Duration>-1</Duration>
    </GameModifier>
    <ValidTerrainCategory>City</ValidTerrainCategory>
    <AIData AIPersonality="AI_General">
      <AIPriority>10</AIPriority>
    </AIData>
    <HitSoundFX>Spell_Enchant_02</HitSoundFX>
    <SpellDefEffect>
      <EffectName>S_AuraofGrace_Particle</EffectName>
      <LocalPosition>0,0,0</LocalPosition>
      <EffectScale>.75</EffectScale>
      <EffectDelay>0</EffectDelay>
      <SnapToTerrain>1</SnapToTerrain>
    </SpellDefEffect>
  </SpellDef>
  <SpellDef InternalName="Poisonbonusspell">
    <SpellBookSortCategory>City</SpellBookSortCategory>
    <SpellBookSortSubCategory>CityEnchantment</SpellBookSortSubCategory>
    <Prereq>
      <Type>Tech</Type>
      <Attribute>Cooperation</Attribute>
    </Prereq>
    <DisplayName>Witch Market</DisplayName>
    <Description>All units produced in this city gain +50% Poison resistance, +3 Poison Attack.</Description>
    <Image>S_AuraofGrace_Painting.png</Image>
    <IconFG>S_AuraofGrace_Icon.png</IconFG>
    <IconBG>S_AuraofGrace_Icon_BG.png</IconBG>
    <IconColor>223,71,30</IconColor>
    <AutoUnlock>1</AutoUnlock>
    <CanStack>0</CanStack>
    <SpellType>Strategic</SpellType>
    <SpellClass>Other</SpellClass>
    <SpellSubClass>Buff</SpellSubClass>
    <SpellTargetType>FriendlyCity</SpellTargetType>
    <SpellResourceCost>
      <Resource>WitchMarket</Resource>
      <Amount>1</Amount>
    </SpellResourceCost>
    <SpellResourceCost>
      <Resource>WitchMarket</Resource>
      <PerTurn>1</PerTurn>
      <Amount>1</Amount>
    </SpellResourceCost>
    <GameModifier>
      <ModType>CityTrainingBonus</ModType>
      <Attribute>TrainingBonus_ApplyAbilityBonus</Attribute>
      <StrVal>Witchmark</StrVal>
      <Duration>-1</Duration>
    </GameModifier>
    <ValidTerrainCategory>City</ValidTerrainCategory>
    <AIData AIPersonality="AI_General">
      <AIPriority>10</AIPriority>
    </AIData>
    <HitSoundFX>Spell_Enchant_02</HitSoundFX>
    <SpellDefEffect>
      <EffectName>S_AuraofGrace_Particle</EffectName>
      <LocalPosition>0,0,0</LocalPosition>
      <EffectScale>.75</EffectScale>
      <EffectDelay>0</EffectDelay>
      <SnapToTerrain>1</SnapToTerrain>
    </SpellDefEffect>
  </SpellDef>
  <SpellDef InternalName="Bloodbonusspell">
    <SpellBookSortCategory>City</SpellBookSortCategory>
    <SpellBookSortSubCategory>CityEnchantment</SpellBookSortSubCategory>
    <Prereq>
      <Type>RestrictedAbilityBonusOption</Type>
      <Attribute>Rivermod_Golem</Attribute>
      <Target>Player</Target>
    </Prereq>
    <Prereq>
      <Type>RestrictedAbilityBonusOption</Type>
      <Attribute>Rivermod_NoBloodForge</Attribute>
      <Target>Player</Target>
    </Prereq>
    <Prereq>
      <Type>Tech</Type>
      <Attribute>Arcane_Mastery</Attribute>
    </Prereq>
    <DisplayName>Blood Forge</DisplayName>
    <Description>All units produced in this city gain +10% Hitpoints, +1 Tactical Health regen (+0.5 per level). +10 Resistance to all Physical damage.</Description>
    <Image>S_AuraofGrace_Painting.png</Image>
    <IconFG>S_AuraofGrace_Icon.png</IconFG>
    <IconBG>S_AuraofGrace_Icon_BG.png</IconBG>
    <IconColor>223,71,30</IconColor>
    <AutoUnlock>1</AutoUnlock>
    <CanStack>0</CanStack>
    <SpellType>Strategic</SpellType>
    <SpellClass>Other</SpellClass>
    <SpellSubClass>Buff</SpellSubClass>
    <SpellTargetType>FriendlyCity</SpellTargetType>
    <SpellResourceCost>
      <Resource>BloodForge</Resource>
      <Amount>1</Amount>
    </SpellResourceCost>
    <SpellResourceCost>
      <Resource>BloodForge</Resource>
      <PerTurn>1</PerTurn>
      <Amount>1</Amount>
    </SpellResourceCost>
    <GameModifier>
      <ModType>CityTrainingBonus</ModType>
      <Attribute>TrainingBonus_ApplyAbilityBonus</Attribute>
      <StrVal>BornInBlood</StrVal>
      <Duration>-1</Duration>
    </GameModifier>
    <ValidTerrainCategory>City</ValidTerrainCategory>
    <AIData AIPersonality="AI_General">
      <AIPriority>10</AIPriority>
    </AIData>
    <HitSoundFX>Spell_Enchant_02</HitSoundFX>
    <SpellDefEffect>
      <EffectName>S_AuraofGrace_Particle</EffectName>
      <LocalPosition>0,0,0</LocalPosition>
      <EffectScale>.75</EffectScale>
      <EffectDelay>0</EffectDelay>
      <SnapToTerrain>1</SnapToTerrain>
    </SpellDefEffect>
  </SpellDef>
  <SpellDef InternalName="Bloodbonusspell_GolemOnly">
    <SpellBookSortCategory>City</SpellBookSortCategory>
    <SpellBookSortSubCategory>CityEnchantment</SpellBookSortSubCategory>
    <Prereq>
      <Type>AbilityBonusOption</Type>
      <Target>Player</Target>
      <Attribute>Rivermod_Golem</Attribute>
    </Prereq>
    <Prereq>
      <Type>Tech</Type>
      <Attribute>Arcane_Mastery</Attribute>
    </Prereq>
    <DisplayName>Blood Forge</DisplayName>
    <Description>All units produced in this city gain +25% Hitpoints, +1 Tactical Health regen (+0.5 per level). 10% resistance to all Physical damage.</Description>
    <Image>S_AuraofGrace_Painting.png</Image>
    <IconFG>S_AuraofGrace_Icon.png</IconFG>
    <IconBG>S_AuraofGrace_Icon_BG.png</IconBG>
    <IconColor>223,71,30</IconColor>
    <AutoUnlock>1</AutoUnlock>
    <CanStack>0</CanStack>
    <SpellType>Strategic</SpellType>
    <SpellClass>Other</SpellClass>
    <SpellSubClass>Buff</SpellSubClass>
    <SpellTargetType>FriendlyCity</SpellTargetType>
    <SpellResourceCost>
      <Resource>BloodForge</Resource>
      <Amount>1</Amount>
    </SpellResourceCost>
    <SpellResourceCost>
      <Resource>BloodForge</Resource>
      <PerTurn>1</PerTurn>
      <Amount>1</Amount>
    </SpellResourceCost>
    <GameModifier>
      <ModType>CityTrainingBonus</ModType>
      <Attribute>TrainingBonus_ApplyAbilityBonus</Attribute>
      <StrVal>BornInBlood2</StrVal>
      <Duration>-1</Duration>
    </GameModifier>
    <ValidTerrainCategory>City</ValidTerrainCategory>
    <AIData AIPersonality="AI_General">
      <AIPriority>10</AIPriority>
    </AIData>
    <HitSoundFX>Spell_Enchant_02</HitSoundFX>
    <SpellDefEffect>
      <EffectName>S_AuraofGrace_Particle</EffectName>
      <LocalPosition>0,0,0</LocalPosition>
      <EffectScale>.75</EffectScale>
      <EffectDelay>0</EffectDelay>
      <SnapToTerrain>1</SnapToTerrain>
    </SpellDefEffect>
  </SpellDef>
  <SpellDef InternalName="Deathbonusspell">
    <SpellBookSortCategory>City</SpellBookSortCategory>
    <SpellBookSortSubCategory>CityEnchantment</SpellBookSortSubCategory>
    <Prereq>
      <Type>RestrictedAbilityBonusOption</Type>
      <Attribute>Rivermod_Golem2</Attribute>
      <Target>Player</Target>
    </Prereq>
    <Prereq>
      <Type>RestrictedAbilityBonusOption</Type>
      <Attribute>Rivermod_SuperDeathForge</Attribute>
      <Target>Player</Target>
    </Prereq>
    <Prereq>
      <Type>Tech</Type>
      <Attribute>Glyph_Stones</Attribute>
    </Prereq>
    <DisplayName>Deathforge</DisplayName>
    <Description>For all units produced in this city, Strategic Health Regeneration is reduced by 34%. When unit is struck in melee, has a combined 40% chance for one of the following to happen: +20 Dodge for 1 round, +10 Dodge for 2 rounds, +20 Accuracy for 1 round, Healed for 8+4 per (DeathShard/Lifeshard), Unit gains 3 Initiatve for 2 rounds.</Description>
    <Image>S_AuraofGrace_Painting.png</Image>
    <IconFG>S_AuraofGrace_Icon.png</IconFG>
    <IconBG>S_AuraofGrace_Icon_BG.png</IconBG>
    <IconColor>223,71,30</IconColor>
    <AutoUnlock>1</AutoUnlock>
    <CanStack>0</CanStack>
    <SpellType>Strategic</SpellType>
    <SpellClass>Other</SpellClass>
    <SpellSubClass>Buff</SpellSubClass>
    <SpellTargetType>FriendlyCity</SpellTargetType>
    <SpellResourceCost>
      <Resource>DeathForge</Resource>
      <Amount>1</Amount>
    </SpellResourceCost>
    <SpellResourceCost>
      <Resource>DeathForge</Resource>
      <PerTurn>1</PerTurn>
      <Amount>1</Amount>
    </SpellResourceCost>
    <GameModifier>
      <ModType>CityTrainingBonus</ModType>
      <Attribute>TrainingBonus_ApplyAbilityBonus</Attribute>
      <StrVal>Hellspawned</StrVal>
      <Duration>-1</Duration>
    </GameModifier>
    <ValidTerrainCategory>City</ValidTerrainCategory>
    <AIData AIPersonality="AI_General">
      <AIPriority>10</AIPriority>
    </AIData>
    <HitSoundFX>Spell_Enchant_02</HitSoundFX>
    <SpellDefEffect>
      <EffectName>S_AuraofGrace_Particle</EffectName>
      <LocalPosition>0,0,0</LocalPosition>
      <EffectScale>.75</EffectScale>
      <EffectDelay>0</EffectDelay>
      <SnapToTerrain>1</SnapToTerrain>
    </SpellDefEffect>
  </SpellDef>
  <SpellDef InternalName="Deathbonusspell2">
    <SpellBookSortCategory>City</SpellBookSortCategory>
    <SpellBookSortSubCategory>CityEnchantment</SpellBookSortSubCategory>
    <Prereq>
      <Type>AbilityBonusOption</Type>
      <Target>Player</Target>
      <Attribute>Rivermod_SuperDeathForge</Attribute>
    </Prereq>
    <Prereq>
      <Type>Tech</Type>
      <Attribute>Glyph_Stones</Attribute>
    </Prereq>
    <DisplayName>Deathforge</DisplayName>
    <Description>For all units produced in this city, Strategic Health Regeneration is reduced by 34%. Units finish training one level higher. When unit is struck in melee, has a combined 40% chance for one of the following to happen: +20 Dodge for 1 turn, +10 Dodge for 2 turns, +20 Accuracy for 1 turn, Healed for 8+4 per (DeathShard/Lifeshard), Unit gains 3 Initiatve for 2 turns.</Description>
    <Image>S_AuraofGrace_Painting.png</Image>
    <IconFG>S_AuraofGrace_Icon.png</IconFG>
    <IconBG>S_AuraofGrace_Icon_BG.png</IconBG>
    <IconColor>223,71,30</IconColor>
    <AutoUnlock>1</AutoUnlock>
    <CanStack>0</CanStack>
    <SpellType>Strategic</SpellType>
    <SpellClass>Other</SpellClass>
    <SpellSubClass>Buff</SpellSubClass>
    <SpellTargetType>FriendlyCity</SpellTargetType>
    <SpellResourceCost>
      <Resource>DeathForge</Resource>
      <Amount>1</Amount>
    </SpellResourceCost>
    <SpellResourceCost>
      <Resource>DeathForge</Resource>
      <PerTurn>1</PerTurn>
      <Amount>1</Amount>
    </SpellResourceCost>
    <GameModifier>
      <ModType>CityTrainingBonus</ModType>
      <Attribute>TrainingBonus_LevelUpUnit</Attribute>
      <Value>1</Value>
      <Provides>+1 Level for Trained Units</Provides>
      <Duration>-1</Duration>
    </GameModifier>
    <GameModifier>
      <ModType>CityTrainingBonus</ModType>
      <Attribute>TrainingBonus_ApplyAbilityBonus</Attribute>
      <StrVal>Hellspawned</StrVal>
      <Duration>-1</Duration>
    </GameModifier>
    <ValidTerrainCategory>City</ValidTerrainCategory>
    <AIData AIPersonality="AI_General">
      <AIPriority>10</AIPriority>
    </AIData>
    <HitSoundFX>Spell_Enchant_02</HitSoundFX>
    <SpellDefEffect>
      <EffectName>S_AuraofGrace_Particle</EffectName>
      <LocalPosition>0,0,0</LocalPosition>
      <EffectScale>.75</EffectScale>
      <EffectDelay>0</EffectDelay>
      <SnapToTerrain>1</SnapToTerrain>
    </SpellDefEffect>
  </SpellDef>
</Container>
